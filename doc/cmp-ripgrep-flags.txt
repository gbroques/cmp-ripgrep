*cmp-ripgrep-flags*	nvim-cmp completion source for ripgrep flags.

Documentation for each flag is derived from ripgrep's man page.

==============================================================================

cmp-ripgrep-flags.Option                              *cmp-ripgrep-flags.Option*

    By default the completion source is available everywhere.

    It's recommended to pass a function to the `enabled` option
    to restrict where the completion source provides suggestions.

    Additionally, users may customize the `kind`, which is the icon displayed
    to the left of the source on the right-hand side of the completion menu.

    Finally, numerous `rg` flags are filtered out from completion by default
    as they break the live_grep_args picker, or aren't very useful.

    The default excluded flags may be overridden via the `exclude` option.

    The below setup restricts the completion source to the live_grep_args picker,
    and displays the default options for the `kind` and `exclude` options.
    >lua
      local function is_current_picker_live_grep_args()
        local bufnr = vim.api.nvim_get_current_buf()
        local current_picker = require('telescope.actions.state').get_current_picker(bufnr)
        if current_picker == nil then
          return false
        end
        -- You need to update this if you customize the default prompt_title for the picker.
        return current_picker and current_picker.prompt_title == 'Live Grep (Args)'
      end
      local cmp = require('cmp')
      cmp.setup({
        -- Enable completion when picker is live_grep_args, and buffer type is prompt.
        -- Completion is disabled by default for the prompt buffer type.
        -- See https://github.com/hrsh7th/nvim-cmp/issues/60
        enabled = function()
          local is_prompt = vim.api.nvim_get_option_value('buftype', { buf = 0 }) == 'prompt'
          return (is_prompt and is_current_picker_live_grep_args()) or not is_prompt
        end,
        sources = {
          {
            name = 'ripgrep_flags',
            option = {
              -- Only enable the completion source when the current picker is live_grep_args
              enabled = is_current_picker_live_grep_args,

              -- Default kind that may be removed or overridden.
              kind = cmp.lsp.CompletionItemKind.Variable,

              -- Exclude flags that break the picker, or are not very useful.
              -- If you're happy with the following, then you may remove it as it's the default.
              exclude = {
                -- INPUT OPTIONS
                '-f', '--file',
                -- SEARCH OPTIONS
                '-v', '--invert-match', -- see http://github.com/nvim-telescope/telescope-live-grep-args.nvim/issues/65
                '--mmap',
                '-j', '--threads',
                -- OUTPUT OPTIONS
                '-A', '--after-context',
                '-B', '--before-context',
                '--color',
                '--colors',
                '--column',
                '-C', '--context',
                '--context-separator',
                '--field-context-separator',
                '--field-match-separator',
                '--heading',
                '-h', '--help',
                '--hostname-bin',
                '--hyperlink-format',
                '--include-zero',
                '-n', '--line-number',
                '-N', '--no-line-number',
                '-0', '--null',
                '--passthru',
                '-p', '--pretty',
                '-q', '--quiet',
                '-r', '--replace',
                '--vimgrep',
                '-H', '--with-filename',
                '-I', '--no-filename',
                -- OUTPUT MODES
                '-c', '--count',
                '--count-matches',
                '-l', '--files-with-matches',
                '--files-without-match',
                '--json', -- see https://github.com/nvim-telescope/telescope-live-grep-args.nvim/issues/4
                -- LOGGING OPTIONS
                '--debug',
                '--stats',
                '--trace',
                -- OTHER BEHAVIORS
                '--files',
                '--generate',
                '--type-list',
                '--pcre2-version',
                '-V', '--version'
              }
            }
          },
        },
      })
    <
    The following fields are the plugin options.

    Fields: ~
        {enable}   (fun():boolean)           Return `true` if completion items should be returned or not.
        {kind}     (lsp.CompletionItemKind)  Defaults to Variable.
        {exclude}  (string[])                List of flags to exclude from completion items.


vim:tw=78:ts=8:noet:ft=help:norl:
